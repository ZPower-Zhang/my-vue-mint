webpackJsonp([3],{"8cXK":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Xxa5"),n=i.n(a),s=i("exGp"),o=i.n(s),c=i("effL"),r=i.n(c),l=i("XgIG"),d=i.n(l),p=i("0eBz"),u=i("jJNh"),v={name:"intro",data:function(){return{imgVideo:r.a,pngExcel:d.a,selected:"1",showU:!1,showBack:!0,showTtl:"课程详情",title:"",total_fee:"",Orig_fee:"",number:0,seen:!0,buyCount:0,collectionCount:0,introduction:"",plan:"",classImgURL:"",popupVisible:!1,proid:null,applyTitle:"立即报名",isCollect:"",isCollectTtl:"收藏"}},components:{HeaderTop:p.a},created:function(){this.proid=this.$route.query.data,this.getinfo(this.proid)},methods:{getinfo:function(t){var e=this;return o()(n.a.mark(function i(){var a,s,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=e,i.next=3,Object(u.i)({proid:t});case 3:(s=i.sent)&&s.flag&&(o=s.data||{},a.imgVideo=o.bImgURL||"",a.title=o.body||"",a.total_fee=o.total_fee||"",a.Orig_fee=o.Orig_fee||"",a.number=o.number||"",a.buyCount=o.buyCount||"",a.collectionCount=o.collectionCount||"",a.introduction=o.introduction||"",a.plan=o.plan||"",a.classImgURL=o.classImgURL||"",a.isBuyed=o.is_buyed||"",a.isCollect=o.is_collectioned||"","1"==a.isBuyed?a.applyTitle="已经报名":a.applyTitle="立即报名","1"==a.isCollect?a.isCollectTtl="取消收藏":a.isCollectTtl="收藏");case 5:case"end":return i.stop()}},i,e)}))()},doPayNow:function(){if("1"==this.isBuyed)return!1;this.popupVisible=!0},payNow:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.next=3,Object(u.l)({proid:i.proid});case 3:(a=e.sent)&&a.flag&&(s=a.data,i.callpay(s));case 5:case"end":return e.stop()}},e,t)}))()},onBridgeReady:function(t){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appid,timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg?window.location.reload():"get_brand_wcpay_request:cancel"==t.err_msg||"get_brand_wcpay_request:fail"==t.err_msg&&alert("支付失败!")})},callpay:function(t){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)):this.onBridgeReady(t)},doGetCollect:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.next=3,Object(u.d)({proid:i.proid});case 3:(a=e.sent)&&a.flag&&(s=a.data||{},i.isCollect=s.is_collectioned||"","1"==i.isCollect?i.isCollectTtl="取消收藏":i.isCollectTtl="收藏");case 5:case"end":return e.stop()}},e,t)}))()}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"relative"}},[i("HeaderTop",{attrs:{showBack:t.showBack,showTtl:t.showTtl,showU:t.showU}}),t._v(" "),i("div",{staticClass:"g-intro"},[i("div",{staticClass:"m-hd-cover"},[i("img",{attrs:{src:t.imgVideo,alt:"",srcset:""}})]),t._v(" "),i("div",{staticClass:"m-md-tab"},[i("mt-navbar",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("mt-tab-item",{attrs:{id:"1"}},[t._v("培训介绍")]),t._v(" "),i("mt-tab-item",{attrs:{id:"2"}},[t._v("培训安排")]),t._v(" "),i("mt-tab-item",{attrs:{id:"4"}},[t._v("课后交流")])],1),t._v(" "),i("mt-tab-container",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("mt-tab-container-item",{attrs:{id:"1"}},[i("h3",[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"inline-course"},[i("span",[t._v("¥"+t._s(t.total_fee/100))]),t._v(" "),t.seen?i("span",{staticStyle:{"text-decoration":"line-through"}},[t._v("¥"+t._s(t.Orig_fee/100))]):t._e(),t._v(" "),i("span",[t._v(t._s(t.buyCount)+"人购买")]),t._v(" "),i("span",[t._v("剩余"+t._s(t.number-t.buyCount)+"个名额")]),t._v(" "),i("span",[t._v(t._s(t.collectionCount)+"人点赞")])]),t._v(" "),i("div",{staticClass:"text-intro"},[i("div",{domProps:{innerHTML:t._s(t.introduction)}})])]),t._v(" "),i("mt-tab-container-item",{attrs:{id:"2"}},[i("div",{domProps:{innerHTML:t._s(t.plan)}})]),t._v(" "),i("mt-tab-container-item",{attrs:{id:"4"}},[i("div",{staticStyle:{margin:"0 auto",width:"250px",height:"400px"}},[i("img",{attrs:{src:t.classImgURL,alt:"",srcset:""}}),t._v(" "),i("h3",[t._v("长按识别二维码，加入本培训课后交流微信群")])])])],1)],1)]),t._v(" "),i("div",{staticClass:"m-ft"},[i("div",{staticClass:"ft-three",on:{click:t.doGetCollect}},[t._v(t._s(t.isCollectTtl))]),t._v(" "),i("div",{staticClass:"ft-consult"},[t._v("咨询")]),t._v(" "),i("div",{staticClass:"ft-apply",on:{click:function(e){return t.doPayNow()}}},[i("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.applyTitle))])])]),t._v(" "),i("mt-popup",{staticClass:"p-popup-pay",attrs:{"popup-transition":"popup-fade",position:"bottom"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[i("div",[i("span",[t._v("课程名称")]),t._v(" "),i("span",[t._v(t._s(t.title))])]),t._v(" "),i("div",[i("span",[t._v("课程原价")]),t._v(" "),i("span",{staticClass:"origin-price"},[t._v("￥"+t._s(t.Orig_fee/100))])]),t._v(" "),i("div",[i("span",[t._v("实际支付")]),t._v(" "),i("span",{staticClass:"pay-price"},[t._v("￥"+t._s(t.total_fee/100))])]),t._v(" "),i("div",{staticClass:"sigle-btn-pay",on:{click:t.payNow}},[i("div",{staticClass:"btn-pay"},[t._v("立即支付")])])])],1)},staticRenderFns:[]},m=i("VU/8")(v,_,!1,null,null,null);e.default=m.exports},XgIG:function(t,e,i){t.exports=i.p+"static/img/v2_pnte53.2cae185.png"},effL:function(t,e,i){t.exports=i.p+"static/img/v2_pnrxn5.0118e22.jpg"}});
//# sourceMappingURL=3.9d0306779dba73f9ca31.js.map